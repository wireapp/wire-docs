{% extends "base.html" %}

{% block content %}
  <div class="md-main md-content">
    <h1>Page moved or not found</h1>
    <p>
      We've recently introduced versioning in our documentation.
      The page you're looking for may have moved under a versioned path.
    </p>
    <p>
      Please update your bookmarks or references to these pages to the following link if the new location exists. If the page is no longer available, it is possible that it has been moved. Try searching the entire documentation to find the new location.
    </p>
    <p>
      ðŸ‘‰ <a id="redirect-link" href="/latest/">Redirect to /latest/...</a>
    </p>
  </div>
{% endblock %}

{% block scripts %}
  <script>
    (function () {
      const path = window.location.pathname;
      const hash = window.location.hash;
      const isVersioned = path.startsWith("/latest") || /^\/v\d/.test(path);
      if (!isVersioned) {
        const newPath = "/latest" + path + hash;
        const link = document.getElementById("redirect-link");
        link.href = newPath;
        link.textContent = newPath;
        // window.location.replace(newPath);
      }
    })();
  </script>
{% endblock %}
